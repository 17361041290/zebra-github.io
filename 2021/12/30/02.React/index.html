<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css" integrity="sha256-no0c5ccDODBwp+9hSmV5VvPpKwHCpbVzXHexIkupM6U=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js" integrity="sha256-a5YRB27CcBwBFcT5EF/f3E4vzIqyHrSR878nseNYw64=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;wuqisuda.github.io&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Pisces&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;},&quot;path&quot;:&quot;&#x2F;search.xml&quot;,&quot;localsearch&quot;:{&quot;enable&quot;:true,&quot;trigger&quot;:&quot;auto&quot;,&quot;top_n_per_article&quot;:1,&quot;unescape&quot;:false,&quot;preload&quot;:true}}</script><script src="/js/config.js"></script>
<meta name="description" content="描述：基本理解和使用、三大核心属性【state，props,refs】、受控组件、非受控组件、生命周期、Diffing算法">
<meta property="og:type" content="article">
<meta property="og:title" content="React面向组件编程【第二章】">
<meta property="og:url" content="https://wuqisuda.github.io/2021/12/30/02.React/index.html">
<meta property="og:site_name" content="YM&#39;s Blog">
<meta property="og:description" content="描述：基本理解和使用、三大核心属性【state，props,refs】、受控组件、非受控组件、生命周期、Diffing算法">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-12-30T14:55:35.500Z">
<meta property="article:modified_time" content="2022-01-11T05:33:29.643Z">
<meta property="article:author" content="越明">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://wuqisuda.github.io/2021/12/30/02.React/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;wuqisuda.github.io&#x2F;2021&#x2F;12&#x2F;30&#x2F;02.React&#x2F;&quot;,&quot;path&quot;:&quot;2021&#x2F;12&#x2F;30&#x2F;02.React&#x2F;&quot;,&quot;title&quot;:&quot;React面向组件编程【第二章】&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>React面向组件编程【第二章】 | YM's Blog</title>
  

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?d376738f73204c8c485cf1a22df75029"></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">


  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
 
  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  


  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">YM's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-comment fa-fw"></i>留言板</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%90%86%E8%A7%A3%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">基本理解和使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E3%80%90%E7%B1%BB%E5%BC%8F%E7%BB%84%E4%BB%B6%E3%80%91%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E5%B1%9E%E6%80%A7%EF%BC%9Astate%E3%80%90%E7%8A%B6%E6%80%81%E3%80%91"><span class="nav-number">2.</span> <span class="nav-text">组件实例【类式组件】三大核心属性：state【状态】</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E3%80%90%E7%B1%BB%E5%BC%8F%E7%BB%84%E4%BB%B6%E3%80%91%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E5%B1%9E%E6%80%A7%EF%BC%9Aprops"><span class="nav-number">3.</span> <span class="nav-text">组件实例【类式组件】三大核心属性：props</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%AE%9E%E4%BE%8B%E3%80%90%E7%B1%BB%E5%BC%8F%E7%BB%84%E4%BB%B6%E3%80%91%E4%B8%89%E5%A4%A7%E6%A0%B8%E5%BF%83%E5%B1%9E%E6%80%A7%EF%BC%9Arefs-%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-number">4.</span> <span class="nav-text">组件实例【类式组件】三大核心属性：refs 与事件处理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE-%E3%80%90%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E3%80%81%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E3%80%91"><span class="nav-number">5.</span> <span class="nav-text">收集表单数据 【受控组件、非受控组件】</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#React-%E7%9A%84-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">6.</span> <span class="nav-text">React 的 生命周期</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Diffing%E7%AE%97%E6%B3%95"><span class="nav-number">7.</span> <span class="nav-text">Diffing算法</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="越明"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">越明</p>
  <div class="site-description" itemprop="description">不乱于心，不困于情，不畏将来，不念过往，如此，安好!</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/wuqisuda" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wuqisuda" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2514860568@qq.com" title="E-Mail → mailto:2514860568@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/weixin_45901138?spm=1000.2115.3001.5343" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_45901138?spm&#x3D;1000.2115.3001.5343" rel="noopener" target="_blank">CSDN</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://blogs.chencong.fun/" title="https:&#x2F;&#x2F;blogs.chencong.fun&#x2F;" rel="noopener" target="_blank">阿栋的博客</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer">
  </div>



    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wuqisuda.github.io/2021/12/30/02.React/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="越明">
      <meta itemprop="description" content="不乱于心，不困于情，不畏将来，不念过往，如此，安好!">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YM's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          React面向组件编程【第二章】
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-12-30 22:55:35" itemprop="dateCreated datePublished" datetime="2021-12-30T22:55:35+08:00">2021-12-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-01-11 13:33:29" itemprop="dateModified" datetime="2022-01-11T13:33:29+08:00">2022-01-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/React/" itemprop="url" rel="index"><span itemprop="name">React</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>40k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>36 分钟</span>
    </span>
</div>

            <div class="post-description">描述：基本理解和使用、三大核心属性【state，props,refs】、受控组件、非受控组件、生命周期、Diffing算法</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="基本理解和使用"><a href="#基本理解和使用" class="headerlink" title="基本理解和使用"></a>基本理解和使用</h1><ul>
<li>函数式组件<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    // 1.创建函数式组件【组件：包含html,js,css等等】</span><br><span class="line">    function MyComponent()&#123;</span><br><span class="line">        console.log(this); // undefined   babel编译后，开启了严格模式</span><br><span class="line">        return &lt;h2&gt;我使用函数定义的组件（适用于【简单函数】的定义）&lt;/h2&gt;</span><br><span class="line">    &#125;</span><br><span class="line">    // 2.渲染组件到页面</span><br><span class="line">    // 不能写函数名【写标签,开头大写,标签闭合】</span><br><span class="line">    ReactDOM.render(&lt;MyComponent/&gt;,document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    /*</span><br><span class="line">        执行了ReactDOM.render() .........之后，发生了什么？</span><br><span class="line">        1.React解析组件标签，找到 MyComponent 组件</span><br><span class="line">        2.发现组件是用函数定义的，调用该组件，将返回的虚拟DOM转为真实的DOM，随后呈现在页面中</span><br><span class="line">    */</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt; </span><br></pre></td></tr></table></figure></li>
<li>类式组件<ul>
<li>类的基本使用<ul>
<li>类中的构造器不是必须写的，要对实例进行一些初始化的操作，如添加指定属性时才写</li>
<li>如果A类继承了B类，且A类中写了构造器，那么A类构造器中的super是必须要调用的</li>
<li>类中所定义的方法，都是放在了类的原型对象上，供实例去使用<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   // 定义一个类</span><br><span class="line">class Person&#123;</span><br><span class="line">    // 构造器</span><br><span class="line">    constructor(name,age)&#123;</span><br><span class="line">        // this是类的实例对象【lisi】</span><br><span class="line">        this.name = name</span><br><span class="line">        this.age = age</span><br><span class="line">    &#125;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        // 通过Person实例调用speak,speak中的this就是Person实例</span><br><span class="line">        console.log(`$&#123;this.name&#125;在说话`);  ————类的原型对象上，供实例使用</span><br><span class="line">    &#125;</span><br><span class="line">    info()&#123;</span><br><span class="line">        console.log(`我的名字$&#123;this.name&#125;,今年$&#123;this.age&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">class Student extends Person&#123;</span><br><span class="line">    constructor(name,age,grade)&#123;</span><br><span class="line">        super(name,age)</span><br><span class="line">        this.grade = grade</span><br><span class="line">    &#125;</span><br><span class="line">    info()&#123;</span><br><span class="line">        console.log(`我的名字$&#123;this.name&#125;,今年$&#123;this.age&#125;,$&#123;this.grade&#125;`);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">let s1 = new Student(&#x27;小明&#x27;,23)</span><br><span class="line">let s2 = new Student(&#x27;李四&#x27;,20,&#x27;大一&#x27;)</span><br><span class="line">s1.info()</span><br><span class="line">s1.speak()</span><br><span class="line">s2.info()</span><br><span class="line">s2.speak()</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        // 1.创建类式组件</span><br><span class="line">        class MyComponent extends React.Component &#123;</span><br><span class="line">            render()&#123;</span><br><span class="line">                // render是放在哪里的？ ————MyComponent的原型对象上，供实例使用</span><br><span class="line">                // render中的this是谁？ ————MyComponent的实例对象【MyComponent组件实例对象】</span><br><span class="line">                console.log(123,this);</span><br><span class="line">                return &lt;h2&gt;我使用类定义的组件（适用于【复杂函数】的定义）&lt;/h2&gt;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // 2.渲染组件到页面</span><br><span class="line">        ReactDOM.render(&lt;MyComponent/&gt;,document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    /*</span><br><span class="line">        执行了ReactDOM.render() .........之后，发生了什么？</span><br><span class="line">        1.React解析组件标签，找到 MyComponent 组件</span><br><span class="line">        2.发现组件是用类定义的，随后 new 出来该类【MyComponent】的实例，通过该实例调用原型上的方法【render】</span><br><span class="line">        3.将 render 返回的虚拟DOM转为真实的DOM，随后呈现在页面中</span><br><span class="line">    */</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="组件实例【类式组件】三大核心属性：state【状态】"><a href="#组件实例【类式组件】三大核心属性：state【状态】" class="headerlink" title="组件实例【类式组件】三大核心属性：state【状态】"></a>组件实例【类式组件】三大核心属性：state【状态】</h1><p><strong>state是组件对象最重要的属性，值是对象</strong><br><strong>组件被称为 “状态机” ,通过更新组件的 state 来更新对应的页面（重新渲染组件）</strong></p>
<ul>
<li>组件中 render 的this为组件实例对象</li>
<li>组件中的自定义方法的 this 为undefined【解决：1.bind()方法 2.箭头函数】</li>
<li>状态数据不能直接修改和更新<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=&quot;btn1&quot;&gt;按钮1&lt;/button&gt;</span><br><span class="line">    &lt;button id=&quot;btn2&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line">    &lt;button id=&quot;btn3&quot; onclick=&quot;demo()&quot;&gt;按钮3&lt;/button&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        const  btn1 = document.getElementById(&#x27;btn1&#x27;)</span><br><span class="line">        btn1.addEventListener(&#x27;click&#x27;,()=&gt; &#123;</span><br><span class="line">            alert(&#x27;按钮1被点击&#x27;)    </span><br><span class="line">        &#125;)</span><br><span class="line">        btn2.onclick = () =&gt; &#123;</span><br><span class="line">            alert(&#x27;按钮2被点击&#x27;)    </span><br><span class="line">        &#125;</span><br><span class="line">        function demo()&#123;</span><br><span class="line">            alert(&#x27;按钮3被点击&#x27;)    </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 类中的实例调用 与 直接调用</span><br><span class="line">        class Person &#123;</span><br><span class="line">            constructor(name,age)&#123;</span><br><span class="line">                this.name = name</span><br><span class="line">                this.age = age</span><br><span class="line">            &#125;</span><br><span class="line">            speak()&#123;</span><br><span class="line">                console.log(this);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        let p1 = new Person(&#x27;小明&#x27;,18)</span><br><span class="line">        // 实例调用</span><br><span class="line">        p1.speak() // Person的实例对象</span><br><span class="line">        // 直接调用</span><br><span class="line">        let x = p1.speak</span><br><span class="line">        console.log(&#x27;直接调用&#x27;,x); // 函数</span><br><span class="line"></span><br><span class="line">        // undefined 严格模式下this为undefined</span><br><span class="line">        // 不开启this指向window</span><br><span class="line">        function text()&#123;</span><br><span class="line">            // &#x27;use strict&#x27;</span><br><span class="line">            console.log(this);</span><br><span class="line">        &#125;</span><br><span class="line">        text() </span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        class Weather extends React.Component &#123;</span><br><span class="line">            // 构造器调用几次? ————————1次 【只用了一次Weather标签，只new出来一个实例对象】</span><br><span class="line">            // 构造器的作用：1.初始化状态 2.修改this指向</span><br><span class="line">            constructor(props) &#123;</span><br><span class="line">                console.log(&#x27;constructor&#x27;);</span><br><span class="line">                super(props)</span><br><span class="line">                // 初始化状态</span><br><span class="line">                this.state = &#123; isHot: false ,wind:&#x27;微风&#x27;&#125;</span><br><span class="line">                // bind改变this的指向,解决changeWeather中的this指向问题</span><br><span class="line">                this.changeWeather = this.changeWeather.bind(this)</span><br><span class="line">            &#125;</span><br><span class="line">            // render调用几次? ————————1+n次【每次修改状态，就会render一次（1是初识渲染，n是状态更新次数）】</span><br><span class="line">            // render的作用：1.从状态里读取数据 2.根据状态值做展示</span><br><span class="line">            render() &#123;</span><br><span class="line">                console.log(&#x27;render&#x27;);</span><br><span class="line">                const &#123; isHot,wind &#125; = this.state</span><br><span class="line">                return (</span><br><span class="line">                    &lt;h1&gt;今天天气很&lt;span onClick=&#123;this.changeWeather&#125;&gt;&#123;isHot ? &#x27;炎热&#x27; : &#x27;寒冷&#x27;&#125;,&#123;wind&#125;&lt;/span&gt;&lt;/h1&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">            // 由于 changeWeather 是作为 onClick 的回调，所以不是通过实例调用的，是直接调用</span><br><span class="line">            // 类中的方法默认开启了局部的严格模式</span><br><span class="line">            // changeWeather() &#123; console.log(this); &#125; // 为什么demo里的this是undefined ？ ————————Weather实例没有调用demo</span><br><span class="line">            // render调用几次? ————————点几次，调几次</span><br><span class="line">            changeWeather() &#123;</span><br><span class="line">                // 通过 Weather 实例调用 changeWeather 时，changeWeather中的this就是Weather实例</span><br><span class="line">                // 注意： React.js不允许直接更改 state 里的数据 【例如： this.state.isHot = !this.state.isHot】</span><br><span class="line">                // 注意： 状态必须通过 setState 进行更改,且更新是一种合并，以前的数据不会丢失</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    isHot:!this.state.isHot</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Weather /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
<li><em>简写state</em>*<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        class Weather extends React.Component &#123;</span><br><span class="line">            // 初始化状态</span><br><span class="line">            state = &#123; isHot: false, wind: &#x27;微风&#x27; &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                const &#123; isHot, wind &#125; = this.state</span><br><span class="line">                return (</span><br><span class="line">                    &lt;h1&gt;今天天气很&lt;span onClick=&#123;this.changeWeather&#125;&gt;&#123;isHot ? &#x27;炎热&#x27; : &#x27;寒冷&#x27;&#125;,&#123;wind&#125;&lt;/span&gt;&lt;/h1&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">            // 自定义方法</span><br><span class="line">            changeWeather = () =&gt; &#123;</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    isHot: !this.state.isHot</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Weather /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="组件实例【类式组件】三大核心属性：props"><a href="#组件实例【类式组件】三大核心属性：props" class="headerlink" title="组件实例【类式组件】三大核心属性：props"></a>组件实例【类式组件】三大核心属性：props</h1><p><strong>基本使用</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;app1&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        class Weather extends React.Component &#123;</span><br><span class="line">            render() &#123;</span><br><span class="line">                return (</span><br><span class="line">                    &lt;div &gt;</span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                            &lt;li&gt;姓名:&#123;this.props.name&#125;&lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;性别:&#123;this.props.gender&#125;&lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;年龄:&#123;this.props.age&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;/ul&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Weather name=&quot;lisi&quot; gender=&#x27;男&#x27; age=&#x27;23&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">        ReactDOM.render(&lt;Weather name=&quot;wangwu&quot; gender=&#x27;女&#x27; age=&#x27;18&#x27; /&gt;, document.getElementById(&#x27;app1&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>扩展运算符</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        // 构造字面量对象时使用展开语法</span><br><span class="line">        let person = &#123;</span><br><span class="line">            name: &#x27;张三&#x27;,</span><br><span class="line">            gender: &#x27;男&#x27;,</span><br><span class="line">            age: 18,</span><br><span class="line">            cars:[&#x27;奔驰&#x27;,&#x27;宝马&#x27;,&#x27;长安&#x27;]</span><br><span class="line">        &#125;</span><br><span class="line">        let student = &#123;</span><br><span class="line">            name: &#x27;张三san&#x27;,</span><br><span class="line">            grade:&#x27;高三&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        let person1 = &#123;...person&#125;</span><br><span class="line">        // 进行拷贝，浅层拷贝</span><br><span class="line">        person1.cars[1] = &#x27;奔驰1111111&#x27;</span><br><span class="line">        person.name = &#x27;张三3333&#x27;</span><br><span class="line">        console.log(person);</span><br><span class="line">        console.log(person1);</span><br><span class="line">        console.log(&#123;...person,...student&#125;);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>对props进行限制</strong></p>
<ul>
<li>添加类的规则写法：类名.propTypes = {} 例如：Person.propTypes = {id: PropTypes.number.isRequired}</li>
<li>默认的标签属性值写法：类名.defaultProps = {}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        render() &#123;</span><br><span class="line">            let &#123; name, gender, age &#125; = this.props</span><br><span class="line">            return (</span><br><span class="line">                &lt;div &gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;姓名:&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;性别:&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;年龄:&#123;age + 1&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 添加类的规则【对标签属性进行类型、必要性的限制】</span><br><span class="line">    // isRequired必传 defaultProps默认值</span><br><span class="line">    Person.propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired,</span><br><span class="line">        gender: PropTypes.string,</span><br><span class="line">        age: PropTypes.number,</span><br><span class="line">        speak: PropTypes.func,</span><br><span class="line">    &#125;</span><br><span class="line">    // 指定默认的标签属性值</span><br><span class="line">    Person.defaultProps = &#123;</span><br><span class="line">        gender: &#x27;男&#x27;,</span><br><span class="line">        age: 18</span><br><span class="line">    &#125;</span><br><span class="line">    let data = &#123;</span><br><span class="line">        name: &#x27;12&#x27;,</span><br><span class="line">        gender: &#x27;男&#x27;,</span><br><span class="line">        age: 18</span><br><span class="line">    &#125;</span><br><span class="line">    // &#123;...data&#125; 的花括号是作为分割符在使用 相当于 ...data</span><br><span class="line">    ReactDOM.render(&lt;Person name=&#x27;222&#x27; gender=&#x27;女&#x27; age=&#123;18&#125;  speak=&#123;speak&#125;/&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    ReactDOM.render(&lt;Person &#123;...data&#125; /&gt;, document.getElementById(&#x27;app1&#x27;))</span><br><span class="line"></span><br><span class="line">    function speak()&#123;</span><br><span class="line">        console.log(&#x27;说话了&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>简写props</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;div id=&quot;app1&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">      class Person extends React.Component &#123;</span><br><span class="line">          // 给Person自身添加一个属性 propTypes</span><br><span class="line"></span><br><span class="line">          // 添加类的规则【对标签属性进行类型、必要性的限制】</span><br><span class="line">          // isRequired必传 defaultProps默认值</span><br><span class="line">          static propTypes = &#123;</span><br><span class="line">              name: PropTypes.string.isRequired,</span><br><span class="line">              gender: PropTypes.string,</span><br><span class="line">              age: PropTypes.number,</span><br><span class="line">              speak: PropTypes.func,</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          // 给Person自身添加一个属性 defaultProps</span><br><span class="line">          // 指定默认的标签属性值</span><br><span class="line">          static defaultProps = &#123;</span><br><span class="line">              gender: &#x27;男&#x27;,</span><br><span class="line">              age: 18</span><br><span class="line">          &#125;</span><br><span class="line">          render() &#123;</span><br><span class="line">              let &#123; name, gender, age &#125; = this.props</span><br><span class="line">              // this.props.name = &#x27;Tom&#x27; // 报错 props是只读的</span><br><span class="line">              return (</span><br><span class="line">                  &lt;div &gt;</span><br><span class="line">                      &lt;ul&gt;</span><br><span class="line">                          &lt;li&gt;姓名:&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                          &lt;li&gt;性别:&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                          &lt;li&gt;年龄:&#123;age + 1&#125;&lt;/li&gt;</span><br><span class="line">                      &lt;/ul&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">              )</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      let data = &#123;</span><br><span class="line">          name: &#x27;12&#x27;,</span><br><span class="line">          gender: &#x27;男&#x27;,</span><br><span class="line">          age: 18</span><br><span class="line">      &#125;</span><br><span class="line">      // &#123;...data&#125; 的花括号是作为分割符在使用 相当于 ...data</span><br><span class="line">      ReactDOM.render(&lt;Person name=&#x27;222&#x27; gender=&#x27;女&#x27; age=&#123;18&#125; speak=&#123;speak&#125; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">      ReactDOM.render(&lt;Person &#123;...data&#125; /&gt;, document.getElementById(&#x27;app1&#x27;))</span><br><span class="line"></span><br><span class="line">      function speak() &#123;</span><br><span class="line">          console.log(&#x27;说话了&#x27;);</span><br><span class="line">      &#125;</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>构造器的注意事项</strong></p>
<ul>
<li>构造器是否接收 props ,是否传递给 super ，取决于：是否希望在构造器中通过this访问props</li>
<li>当 constructor 不传 props,super也不接收 props ,通过实例访问props【this.props】 则为 undefined<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        class Person extends React.Component &#123;</span><br><span class="line">            // constructor 尽量不写构造器</span><br><span class="line">            constructor(props)&#123;</span><br><span class="line">                // 构造器是否接收 props ,是否传递给 super ，取决于：是否希望在构造器中通过this访问props</span><br><span class="line">                super(props)</span><br><span class="line">                // 1.当 constructor 不传 props,super也不接收 props ,通过实例访问props【this.props】 则为 undefined</span><br><span class="line">                console.log(props);</span><br><span class="line">            &#125;</span><br><span class="line">            // 给Person自身添加一个属性 propTypes</span><br><span class="line">            // 添加类的规则【对标签属性进行类型、必要性的限制】</span><br><span class="line">            // isRequired必传 defaultProps默认值</span><br><span class="line">            static propTypes = &#123;</span><br><span class="line">                name: PropTypes.string.isRequired,</span><br><span class="line">                gender: PropTypes.string,</span><br><span class="line">                age: PropTypes.number</span><br><span class="line">            &#125;</span><br><span class="line">            // 给Person自身添加一个属性 defaultProps</span><br><span class="line">            // 指定默认的标签属性值</span><br><span class="line">            static defaultProps = &#123;</span><br><span class="line">                gender: &#x27;男&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                let &#123; name, gender, age &#125; = this.props</span><br><span class="line">                // this.props.name = &#x27;Tom&#x27; // 报错 props是只读的</span><br><span class="line">                return (</span><br><span class="line">                    &lt;div &gt;</span><br><span class="line">                        &lt;ul&gt;</span><br><span class="line">                            &lt;li&gt;姓名:&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;性别:&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                            &lt;li&gt;年龄:&#123;age + 1&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;/ul&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Person name=&#x27;222&#x27;  /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>函数式组件只能使用 props</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;app1&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    // 类式组件</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        static propTypes = &#123;</span><br><span class="line">            name: PropTypes.string.isRequired,</span><br><span class="line">            gender: PropTypes.string,</span><br><span class="line">            age: PropTypes.number</span><br><span class="line">        &#125;</span><br><span class="line">        static defaultProps = &#123;</span><br><span class="line">            gender: &#x27;男&#x27;,</span><br><span class="line">            age: 18</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            let &#123; name, gender, age &#125; = this.props</span><br><span class="line">            return (</span><br><span class="line">                &lt;div &gt;</span><br><span class="line">                    &lt;ul&gt;</span><br><span class="line">                        &lt;li&gt;姓名:&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;性别:&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;年龄:&#123;age + 1&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 函数式组件</span><br><span class="line">    function Person1(props) &#123;</span><br><span class="line">        let &#123; name, gender, age &#125; = props</span><br><span class="line">        return (</span><br><span class="line">            &lt;div &gt;</span><br><span class="line">                &lt;ul&gt;</span><br><span class="line">                    &lt;li&gt;姓名:&#123;name&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;性别:&#123;gender&#125;&lt;/li&gt;</span><br><span class="line">                    &lt;li&gt;年龄:&#123;age + 1&#125;&lt;/li&gt;</span><br><span class="line">                &lt;/ul&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line">    Person1.propTypes = &#123;</span><br><span class="line">        name: PropTypes.string.isRequired,</span><br><span class="line">        gender: PropTypes.string,</span><br><span class="line">        age: PropTypes.number</span><br><span class="line">    &#125;</span><br><span class="line">    Person1.defaultProps = &#123;</span><br><span class="line">        gender: &#x27;男&#x27;,</span><br><span class="line">        age: 18</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person name=&#x27;222&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    ReactDOM.render(&lt;Person1 name=&#x27;李四&#x27; gender=&#x27;男&#x27; age=&#123;22&#125; /&gt;, document.getElementById(&#x27;app1&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>


<h1 id="组件实例【类式组件】三大核心属性：refs-与事件处理"><a href="#组件实例【类式组件】三大核心属性：refs-与事件处理" class="headerlink" title="组件实例【类式组件】三大核心属性：refs 与事件处理"></a>组件实例【类式组件】三大核心属性：refs 与事件处理</h1><ul>
<li>refs理解: 组件内的标签可以定义 ref 来标识自己</li>
<li>字符串类型的ref写法:  ref=’标识名’ 【不太推荐使用】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">  &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">      // 类式组件</span><br><span class="line">      class Person extends React.Component &#123;</span><br><span class="line">          render() &#123;</span><br><span class="line">              let &#123; name &#125; = this.props</span><br><span class="line">              return (</span><br><span class="line">                  &lt;div&gt;</span><br><span class="line">                      &lt;input ref=&#x27;input&#x27; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot;/&gt;&amp;nbsp;</span><br><span class="line">                      &lt;button ref=&#x27;btn1&#x27; onClick=&#123;this.open&#125;&gt;按钮&lt;/button&gt;&amp;nbsp;</span><br><span class="line">                      &lt;input ref=&#x27;input1&#x27; placeholder=&#x27;失去焦点提示数据&#x27; type=&quot;text&quot;  onBlur=&#123;this.showData&#125;/&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">              )</span><br><span class="line">          &#125;</span><br><span class="line">          open = () =&gt; &#123;</span><br><span class="line">              // 是真实节点DOM，而不是虚拟DOM</span><br><span class="line">              // console.log(this.refs.input);</span><br><span class="line">              let &#123;input&#125; = this.refs</span><br><span class="line">              alert(input.value)</span><br><span class="line">          &#125;</span><br><span class="line">          showData = () =&gt; &#123;</span><br><span class="line">              let &#123;input1&#125; = this.refs</span><br><span class="line">              alert(input1.value)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      ReactDOM.render(&lt;Person name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>回调函数形式的ref写法:  ref={c =&gt; {this.input1 = c}} 【内联函数的方式】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">   &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">   &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">   &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">   &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">       class Person extends React.Component &#123;</span><br><span class="line">           render() &#123;</span><br><span class="line">               let &#123; name &#125; = this.props</span><br><span class="line">               return (</span><br><span class="line">                   &lt;div&gt;</span><br><span class="line">                       &lt;input ref=&#123;c =&gt; this.input = c&#125; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot; /&gt;&amp;nbsp;</span><br><span class="line">                       &lt;button ref=&#x27;btn1&#x27; onClick=&#123;this.open&#125;&gt;按钮&lt;/button&gt;&amp;nbsp;</span><br><span class="line">                       &lt;input ref=&#123;c =&gt; this.input1 = c&#125; placeholder=&#x27;失去焦点提示数据&#x27; type=&quot;text&quot; onBlur=&#123;this.showData&#125; /&gt;</span><br><span class="line">                   &lt;/div&gt;</span><br><span class="line">               )</span><br><span class="line">           &#125;</span><br><span class="line">           open = () =&gt; &#123;</span><br><span class="line">               let &#123; input &#125; = this</span><br><span class="line">               alert(input.value)</span><br><span class="line">           &#125;</span><br><span class="line">           showData = () =&gt; &#123;</span><br><span class="line">               let &#123; input1 &#125; = this</span><br><span class="line">               alert(input1.value)</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       ReactDOM.render(&lt;Person name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br></pre></td></tr></table></figure></li>
<li>内联函数的方式:回调ref中回调次数的问题【解决：类绑定函数的方式：ref={this.textFnc}}】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        // 回调ref中回调次数的问题</span><br><span class="line">        class Person extends React.Component &#123;</span><br><span class="line">            state = &#123;</span><br><span class="line">                isHot: false</span><br><span class="line">            &#125;</span><br><span class="line">            open = () =&gt; &#123;</span><br><span class="line">                let &#123; input &#125; = this</span><br><span class="line">                alert(input.value)</span><br><span class="line">            &#125;</span><br><span class="line">            ChangeWeather = () =&gt; &#123;</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    isHot: !this.state.isHot</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            // 通过将 ref 的回调函数定义成 class 的绑定函数的方式</span><br><span class="line">            // 不会再重复调用saveInput</span><br><span class="line">            saveInput = (c) =&gt; &#123;</span><br><span class="line">                this.input = c </span><br><span class="line">                console.log(&quot;123&quot;,c)</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line"></span><br><span class="line">                let &#123; isHot &#125; = this.state</span><br><span class="line">                let &#123; name &#125; = this.props</span><br><span class="line">                // c页面更新后会调用连词，第一次为null,第二次才会返回节点</span><br><span class="line">                // jsx注释 &#123;/* */&#125;</span><br><span class="line">                // 通过将 ref 的回调函数定义成 class 的绑定函数的方式</span><br><span class="line">                return (</span><br><span class="line">                    &lt;div&gt;</span><br><span class="line">                        &lt;h2&gt;今天天气很&#123;isHot ? &#x27;炎热&#x27; : &#x27;寒冷&#x27;&#125;&lt;/h2&gt;</span><br><span class="line">                        &#123;/* 内联用法比较多，即下面的方式 */&#125;</span><br><span class="line">                        &#123;/* &lt;input ref=&#123;c =&gt; &#123;this.input = c ;console.log(&quot;123&quot;,c)&#125;&#125; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot; /&gt;&amp;nbsp; */&#125;</span><br><span class="line">                        &lt;input ref=&#123;this.saveInput&#125; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot; /&gt;&amp;nbsp;</span><br><span class="line">                        &lt;button onClick=&#123;this.open&#125;&gt;按钮&lt;/button&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.ChangeWeather&#125;&gt;改变天气&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Person name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>createRef的方式 【最推荐的方式】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    // React.createRef ；调用后可以返回一个容器，该容器可以存储被 ref 所标识的节点 &#x27;该容器是专人专用&#x27;</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        myRef = React.createRef()</span><br><span class="line">        myRef1 = React.createRef()</span><br><span class="line">        open = () =&gt; &#123;</span><br><span class="line">            alert(this.myRef.current.value)</span><br><span class="line">        &#125;</span><br><span class="line">        open1 = () =&gt; &#123;</span><br><span class="line">            alert(this.myRef1.current.value)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;input ref=&#123;this.myRef&#125; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot; /&gt;&amp;nbsp;</span><br><span class="line">                    &lt;button onClick=&#123;this.open&#125;&gt;按钮&lt;/button&gt;&amp;nbsp;</span><br><span class="line">                    &lt;input onBlur=&#123;this.open1&#125; ref=&#123;this.myRef1&#125; placeholder=&#x27;失去焦点提示数据&#x27; type=&quot;text&quot; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>事件处理<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    class Person extends React.Component &#123;</span><br><span class="line">        /*</span><br><span class="line">            1.通过 onXxx 属性指定事件处理函数 （注意大小写） </span><br><span class="line">                a. React使用的是自定义(合成)事件，而不是原生DOM事件 ——————为了更好的兼容性</span><br><span class="line">                b. React中的事件是通过 事件委托的方式 处理的（委托给组件最外层的元素）  ——————为了高效</span><br><span class="line">            2.通过 event.target 得到发生事件的DOM元素对象 【发生事件的元素正好是你要操作的元素 】 ——————不要过度的使用ref       </span><br><span class="line">        */</span><br><span class="line">        // 创建容器</span><br><span class="line">        myRef = React.createRef()</span><br><span class="line">        myRef1 = React.createRef()</span><br><span class="line">        open = () =&gt; &#123;</span><br><span class="line">            alert(this.myRef.current.value)</span><br><span class="line">        &#125;</span><br><span class="line">        // 发生事件的元素正好是你要操作的元素 </span><br><span class="line">        open1 = (e) =&gt; &#123;</span><br><span class="line">            alert(e.target.value)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;input ref=&#123;this.myRef&#125; placeholder=&#x27;点击按钮提示数据&#x27; type=&quot;text&quot; /&gt;&amp;nbsp;</span><br><span class="line">                    &lt;button onClick=&#123;this.open&#125;&gt;按钮&lt;/button&gt;&amp;nbsp;</span><br><span class="line">                    &lt;input onBlur=&#123;this.open1&#125;  placeholder=&#x27;失去焦点提示数据&#x27; type=&quot;text&quot; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Person name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="收集表单数据-【受控组件、非受控组件】"><a href="#收集表单数据-【受控组件、非受控组件】" class="headerlink" title="收集表单数据 【受控组件、非受控组件】"></a>收集表单数据 【受控组件、非受控组件】</h1><ul>
<li>非受控组件: 现用现取 【页面中输入类的DOM，你是现用现取就是非受控组件】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line"> &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于jsx转js --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">     /* 非受控组件 ； 现用现取 【页面中输入类的DOM，你是现用现取就是非受控组件】 */ </span><br><span class="line">     // 创建组件</span><br><span class="line">     class Login extends React.Component &#123;</span><br><span class="line">         handleSubmit = (e) =&gt; &#123;</span><br><span class="line">             e.preventDefault()  // 阻止默认事件</span><br><span class="line">             let &#123; username, password &#125; = this</span><br><span class="line">             alert(`用户名：$&#123;username.value&#125;,密码：$&#123;password.value&#125;` )</span><br><span class="line">         &#125;</span><br><span class="line">         render() &#123;</span><br><span class="line">             return (</span><br><span class="line">                 &lt;form action=&quot;http://www.wuqisuda.cn&quot; onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">                     用户名: &lt;input ref=&#123;c =&gt; this.username = c&#125; name=&quot;username&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">                     密码: &lt;input ref=&#123;c =&gt; this.password = c&#125; name=&quot;password&quot; type=&quot;password&quot; /&gt;</span><br><span class="line">                     &lt;button onClick=&#123;this.open&#125;&gt;登录&lt;/button&gt;</span><br><span class="line">                 &lt;/form&gt;</span><br><span class="line">             )</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     // 渲染组件</span><br><span class="line">     ReactDOM.render(&lt;Login name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>受控组件: 页面中输入类的DOM，随着你的输入，就能把数据维护到状态里面去【类似 vue 的 双向绑定】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        /* 受控组件 ； 现用现取 【页面中输入类的DOM，随着你的输入，就能把数据维护到状态里面去】【类似 vue 的 双向绑定】 */</span><br><span class="line">        // 创建组件</span><br><span class="line">        class Login extends React.Component &#123;</span><br><span class="line">            // 初始化</span><br><span class="line">            state = &#123;</span><br><span class="line">                username: &#x27;&#x27;,</span><br><span class="line">                password: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">            saveUsername = (e) =&gt; &#123;</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    username: e.target.value</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            savePassword = (e) =&gt; &#123;</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    password: e.target.value</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            handleSubmit = (e) =&gt; &#123;</span><br><span class="line">                e.preventDefault()  // 阻止默认事件</span><br><span class="line">                let &#123; username, password &#125; = this.state</span><br><span class="line">                alert(`用户名：$&#123;username&#125;,密码：$&#123;password&#125;`)</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                return (</span><br><span class="line">                    &lt;form action=&quot;http://www.wuqisuda.cn&quot; onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">                        用户名: &lt;input onChange=&#123;this.saveUsername&#125; name=&quot;username&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">                        密码: &lt;input onChange=&#123;this.savePassword&#125; name=&quot;password&quot; type=&quot;password&quot; /&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.open&#125;&gt;登录&lt;/button&gt;</span><br><span class="line">                    &lt;/form&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // 渲染组件</span><br><span class="line">        ReactDOM.render(&lt;Login name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>高阶函数 函数柯里化</strong> </p>
<ul>
<li>高阶函数: 符合一下2个规范中的任意一个，就是高阶函数<ol>
<li>若A函数，接收的参数是一个函数，A就是高阶函数</li>
<li>若A函数，调用的返回值是一个函数，A就是高阶函数</li>
</ol>
<ul>
<li>常见的高阶函数： Promise 、 setTimeout 、 arr.map()等 </li>
</ul>
</li>
<li>函数柯里化: 通过函数调用继续返回函数的方式，实现多次接收参数最后统一处理的函数编码形式<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// 创建组件</span><br><span class="line">        class Login extends React.Component &#123;</span><br><span class="line">            // 初始化</span><br><span class="line">            state = &#123;</span><br><span class="line">                username: &#x27;&#x27;,</span><br><span class="line">                password: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">            // saveFormdata接收一个 type 参数 返回一个函数 ，该函数接收一个 event 参数。在 this.setState 统一处理 【函数柯里化】</span><br><span class="line">            saveFormdata = (type) =&gt; &#123;</span><br><span class="line">                // 将 saveFormdata 返回箭头函数给 onChange 作为回调</span><br><span class="line">                // 输入用户名和密码给的是 return 的函数，所以 saveFormdata 函数没有 event </span><br><span class="line">                // 输入后触发 onChange 事件，React 把 event 传给了箭头函数</span><br><span class="line">                return (event) =&gt; &#123;</span><br><span class="line">                    this.setState(&#123;</span><br><span class="line">                        [type]:event.target.value</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            handleSubmit = (e) =&gt; &#123;</span><br><span class="line">                e.preventDefault()  // 阻止默认事件</span><br><span class="line">                let &#123; username, password &#125; = this.state</span><br><span class="line">                alert(`用户名：$&#123;username&#125;,密码：$&#123;password&#125;`)</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                return (</span><br><span class="line">                    &lt;form action=&quot;http://www.wuqisuda.cn&quot; onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">                        用户名: &lt;input onChange=&#123;this.saveFormdata(&#x27;username&#x27;)&#125; name=&quot;username&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">                        密码: &lt;input onChange=&#123;this.saveFormdata(&#x27;password&#x27;)&#125; name=&quot;password&quot; type=&quot;password&quot; /&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.open&#125;&gt;登录&lt;/button&gt;</span><br><span class="line">                    &lt;/form&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // 渲染组件</span><br><span class="line">        ReactDOM.render(&lt;Login name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    // 函数柯里化</span><br><span class="line">    function sum(a) &#123;</span><br><span class="line">        return (b) =&gt; &#123;</span><br><span class="line">            return (c) =&gt; &#123;</span><br><span class="line">                return a + b + c</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    let result = sum(1)(2)(3)</span><br><span class="line">    console.log(result);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
<li>不使用柯里化实现【内联函数】<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// 不使用柯里化函数实现</span><br><span class="line">        class Login extends React.Component &#123;</span><br><span class="line">            // 初始化</span><br><span class="line">            state = &#123;</span><br><span class="line">                username: &#x27;&#x27;,</span><br><span class="line">                password: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">            saveFormdata = (type, event) =&gt; &#123;</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    [type]: event.target.value</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            handleSubmit = (e) =&gt; &#123;</span><br><span class="line">                e.preventDefault()  // 阻止默认事件</span><br><span class="line">                let &#123; username, password &#125; = this.state</span><br><span class="line">                alert(`用户名：$&#123;username&#125;,密码：$&#123;password&#125;`)</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                return (</span><br><span class="line">                    &lt;form action=&quot;http://www.wuqisuda.cn&quot; onSubmit=&#123;this.handleSubmit&#125;&gt;</span><br><span class="line">                        用户名: &lt;input onChange=&#123;event =&gt; this.saveFormdata(&#x27;username&#x27;,event)&#125; name=&quot;username&quot; type=&quot;text&quot; /&gt;</span><br><span class="line">                        密码: &lt;input onChange=&#123;event =&gt; this.saveFormdata(&#x27;password&#x27;,event)&#125; name=&quot;password&quot; type=&quot;password&quot; /&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.open&#125;&gt;登录&lt;/button&gt;</span><br><span class="line">                    &lt;/form&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Login name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br></pre></td></tr></table></figure></li>
<li>对象的相关知识<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    // 在空对象里添加属性 name :&#x27;tom&#x27;</span><br><span class="line">    let a = &#x27;name&#x27;</span><br><span class="line">    let  obj = &#123;&#125; </span><br><span class="line">    // 注意错误示例：obj.a = &#x27;tom&#x27; // &#123;a :&#x27;tom&#x27;&#125;</span><br><span class="line">    obj[a] = &#x27;tom&#x27;</span><br><span class="line">    console.log( obj); // &#123;name :&#x27;tom&#x27;&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="React-的-生命周期"><a href="#React-的-生命周期" class="headerlink" title="React 的 生命周期"></a>React 的 生命周期</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    //#region </span><br><span class="line">    // 生命周期回调函数 == 生命周期钩子函数</span><br><span class="line">    //#endregion</span><br><span class="line">    class Life extends React.Component &#123;</span><br><span class="line">        state = &#123;</span><br><span class="line">            opacity: 1,</span><br><span class="line">        &#125;</span><br><span class="line">        text = () =&gt; &#123;</span><br><span class="line">            // 卸载定时器</span><br><span class="line">            // clearInterval(this.timer)</span><br><span class="line">            // 卸载组件</span><br><span class="line">            ReactDOM.unmountComponentAtNode(document.getElementById(&#x27;app&#x27;))</span><br><span class="line">        &#125;</span><br><span class="line">        // 挂载</span><br><span class="line">        componentDidMount() &#123;</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                let &#123; opacity &#125; = this.state</span><br><span class="line">                if (opacity &gt;= 0) &#123;</span><br><span class="line">                    opacity -= 0.1</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    opacity = 1</span><br><span class="line">                &#125;</span><br><span class="line">                this.setState(&#123; opacity &#125;)</span><br><span class="line">            &#125;, 200)</span><br><span class="line">        &#125;</span><br><span class="line">        componentWillUnmount() &#123;</span><br><span class="line">            // 卸载定时器</span><br><span class="line">            clearInterval(this.timer)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            let &#123; opacity &#125; = this.state</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;h2 style=&#123;&#123; &#x27;opacity&#x27;: opacity &#125;&#125;&gt;React学不会怎么办？&lt;/h2&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.text&#125;&gt;不活了&lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ReactDOM.render(&lt;Life name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>React 的 生命周期 [旧]</p>
</blockquote>
<ul>
<li>初始化阶段：由ReactDOM.render()触发 ——————初次渲染<ol>
<li>constructor  ————构造器【数据初始化(state)】</li>
<li>componentWillMount  ————将要挂载</li>
<li>render  ————渲染</li>
<li>componentDidMount  ————挂载完毕【常用】<ul>
<li>做一些初始化的事情：发起网络请求、开启定时器、订阅消息</li>
</ul>
</li>
</ol>
</li>
<li>更新阶段： 由组件内部 this.setState() 或父组件重新 render 触发【强制更新 this.forceUpdate() : 强制更新数据钩子 ——————不走阀门】<ol>
<li>shouldComponentUpdate  ————控制更新的阀门</li>
<li>componentWillUpdate  ————将要更新</li>
<li>render  ————渲染</li>
<li>componentDidUpdate  ————更新完毕</li>
</ol>
</li>
<li>卸载组件：由ReactDOM.unmountComponentAtNode(document.getElementById(‘’))触发<ol>
<li>componentWillUnmount  ————将要卸载<ul>
<li>做一些收尾的事情：关闭定时器、取消订阅消息</li>
</ul>
</li>
</ol>
</li>
<li>父组件更新render：<ol>
<li>componentWillReceiveProps  ————组将将要接受props 【第一次接受的props不会触发componentWillReceiveProps钩子】</li>
<li>shouldComponentUpdate</li>
<li>componentWillUpdate</li>
<li>render  ————子组件渲染</li>
<li>componentDidUpdate</li>
</ol>
</li>
</ul>
<p><strong>17.0.0以后 componentWillReceiveProps componentWillMount componentWillUpdate前面要加 UNSAFE_ 【即将废弃】</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">&lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于jsx转js --&gt;</span><br><span class="line">&lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">&lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">    //#region </span><br><span class="line">    // 生命周期回调函数 == 生命周期钩子函数</span><br><span class="line">    //#endregion</span><br><span class="line">    class Life extends React.Component &#123;</span><br><span class="line">        // 构造器</span><br><span class="line">        constructor(props) &#123;</span><br><span class="line">            console.log(&#x27;constructor&#x27;);</span><br><span class="line">            super(props)</span><br><span class="line">            this.state = &#123;</span><br><span class="line">                num: 0,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 卸载组件按钮的回调</span><br><span class="line">        unMount = () =&gt; &#123;</span><br><span class="line">            ReactDOM.unmountComponentAtNode(document.getElementById(&#x27;app&#x27;))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 正常更新数据按钮的回调</span><br><span class="line">        upData = () =&gt; &#123;</span><br><span class="line">            let &#123; num &#125; = this.state</span><br><span class="line">            num += 1</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                num</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        // forceUpdate()</span><br><span class="line">        // 强制更新数据钩子 ——————不走阀门</span><br><span class="line">        // 不对状态进行任何修改，更新一下</span><br><span class="line">        // 强制更新按钮的回调</span><br><span class="line">        force = () =&gt; &#123;</span><br><span class="line">            this.forceUpdate()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        // 组件将要挂载</span><br><span class="line">        componentWillMount() &#123;</span><br><span class="line">            console.log(&#x27;组件将要挂载，componentWillMount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件挂载完毕</span><br><span class="line">        componentDidMount() &#123;</span><br><span class="line">            console.log(&#x27;组件挂载完毕，componentDidMount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件将要卸载</span><br><span class="line">        componentWillUnmount() &#123;</span><br><span class="line">            console.log(&#x27;组件将要卸载，componentWillUnmount&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 控制组件更新的阀门 ————————必有返回值【不去设置都是true】【布尔值】</span><br><span class="line">        shouldComponentUpdate() &#123;</span><br><span class="line">            console.log(&#x27;控制组件更新的阀门，shouldComponentUpdate&#x27;);</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件将要更新</span><br><span class="line">        componentWillUpdate() &#123;</span><br><span class="line">            console.log(&#x27;组件将要更新，componentWillUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件更新完毕</span><br><span class="line">        componentDidUpdate() &#123;</span><br><span class="line">            console.log(&#x27;组件更新完毕，componentDidUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            console.log(&#x27;渲染，render&#x27;);</span><br><span class="line">            let &#123; num &#125; = this.state</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;h2&gt;当前求和为&#123;num&#125;&lt;/h2&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.upData&#125;&gt;点我加1&lt;/button&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.unMount&#125;&gt;卸载组件&lt;/button&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.force&#125;&gt;不更改状态中的数据，强制更新&lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    class A extends React.Component &#123;</span><br><span class="line">        state = &#123; carName: &#x27;宝马&#x27; &#125;</span><br><span class="line">        changeCar = () =&gt; &#123;</span><br><span class="line">            let &#123; carName &#125; = this.state</span><br><span class="line">            carName = &#x27;奔驰&#x27;</span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                carName</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            console.log(&#x27;父组件组件渲染，render&#x27;);</span><br><span class="line">            let &#123; carName &#125; = this.state</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;div&gt;A&lt;/div&gt;</span><br><span class="line">                    &lt;button onClick=&#123;this.changeCar&#125;&gt;换车&lt;/button&gt;</span><br><span class="line">                    &lt;B carName=&#123;carName&#125; /&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    class B extends React.Component &#123;</span><br><span class="line">        // A组件【父组件】render </span><br><span class="line">        // 组将将要接受props 【第一次接受的props不会触发componentWillReceiveProps钩子】</span><br><span class="line">        componentWillReceiveProps(props)&#123;</span><br><span class="line">            console.log(&#x27;组将将要接受props,componentWillReceiveProps&#x27;,props);</span><br><span class="line">        &#125;</span><br><span class="line">        shouldComponentUpdate() &#123;</span><br><span class="line">            console.log(&#x27;控制组件更新的阀门，shouldComponentUpdate&#x27;);</span><br><span class="line">            return true</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件将要更新</span><br><span class="line">        componentWillUpdate() &#123;</span><br><span class="line">            console.log(&#x27;组件将要更新，componentWillUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        // 组件更新完毕</span><br><span class="line">        componentDidUpdate() &#123;</span><br><span class="line">            console.log(&#x27;组件更新完毕，componentDidUpdate&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        render() &#123;</span><br><span class="line">            console.log(&#x27;子组件渲染，render&#x27;);</span><br><span class="line">            let &#123; carName &#125; = this.props</span><br><span class="line">            return (</span><br><span class="line">                &lt;div&gt;</span><br><span class="line">                    &lt;h2&gt;&#123;carName&#125;&lt;/h2&gt;</span><br><span class="line">                    &lt;div&gt;B&lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ReactDOM.render(&lt;A name=&#x27;lisi&#x27; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>React 的 生命周期 [新]</p>
</blockquote>
<ul>
<li>初始化阶段：由ReactDOM.render()触发 ——————初次渲染<ol>
<li>constructor  ————构造器【数据初始化(state)】</li>
<li>getDerivedStateFromProps  ————从 props 得到一个派生的状态</li>
<li>render  ————渲染【常用】</li>
<li>componentDidMount  ————挂载完毕【常用】<ul>
<li>做一些初始化的事情：发起网络请求、开启定时器、订阅消息</li>
</ul>
</li>
</ol>
</li>
<li>更新阶段： 由组件内部 this.setState() 或父组件重新 render 触发【强制更新 this.forceUpdate() : 强制更新数据钩子 ——————不走阀门】<ol>
<li>getDerivedStateFromProps  ————从 props 得到一个派生的状态</li>
<li>shouldComponentUpdate  ————控制更新的阀门</li>
<li>render  ————渲染</li>
<li>getSnapshotBeforeUpdate  ————在更新之前得到快照</li>
<li>componentDidUpdate  ————更新完毕 </li>
</ol>
</li>
<li>卸载组件：由ReactDOM.unmountComponentAtNode(document.getElementById(‘’))触发<ol>
<li>componentWillUnmount  ————将要卸载【常用】<ul>
<li>做一些收尾的事情：关闭定时器、取消订阅消息</li>
</ul>
</li>
</ol>
</li>
</ul>
<ul>
<li>static getDerivedStateFromProps(){} : 从 props 得到一个派生的状态<ul>
<li>此方法适用于罕见的用例,state 的值在任何时候都取决于 props</li>
<li>必须有返回值 state对象 或者 null</li>
</ul>
</li>
<li>getSnapshotBeforeUpdate : 在更新之前得到快照<ul>
<li>必须有返回值 snapshot值【快照值】 或者 null<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        //#region </span><br><span class="line">        // 生命周期回调函数 == 生命周期钩子函数</span><br><span class="line">        //#endregion</span><br><span class="line">        class Life extends React.Component &#123;</span><br><span class="line">            // 构造器</span><br><span class="line">            constructor(props) &#123;</span><br><span class="line">                console.log(&#x27;constructor&#x27;);</span><br><span class="line">                super(props)</span><br><span class="line">                this.state = &#123;</span><br><span class="line">                    num: 0,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            // 卸载组件按钮的回调</span><br><span class="line">            unMount = () =&gt; &#123;</span><br><span class="line">                ReactDOM.unmountComponentAtNode(document.getElementById(&#x27;app&#x27;))</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // 正常更新数据按钮的回调</span><br><span class="line">            upData = () =&gt; &#123;</span><br><span class="line">                let &#123; num &#125; = this.state</span><br><span class="line">                num += 1</span><br><span class="line">                this.setState(&#123;</span><br><span class="line">                    num</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            // forceUpdate()</span><br><span class="line">            // 强制更新数据钩子 ——————不走阀门</span><br><span class="line">            // 不对状态进行任何修改，更新一下</span><br><span class="line">            // 强制更新按钮的回调</span><br><span class="line">            force = () =&gt; &#123;</span><br><span class="line">                this.forceUpdate()</span><br><span class="line">            &#125;</span><br><span class="line">            // 从 props 得到一个派生的状态</span><br><span class="line">            // 必须有返回值 state对象 或者 null</span><br><span class="line">            // 此方法适用于罕见的用例,state 的值在任何时候都取决于 props</span><br><span class="line">            static getDerivedStateFromProps(props,state)&#123;</span><br><span class="line">                console.log(&#x27;getDerivedStateFromProps&#x27;,props,state);</span><br><span class="line">                return null</span><br><span class="line">            &#125;</span><br><span class="line">            // 在更新之前得到快照</span><br><span class="line">            // 必须有返回值 snapshot值【快照值】 或者 null</span><br><span class="line">            getSnapshotBeforeUpdate(prevProps, prevState)&#123;</span><br><span class="line">                console.log(&#x27;快照，getSnapshotBeforeUpdate&#x27;,prevProps, prevState);</span><br><span class="line">                return &#x27;123123&#x27; </span><br><span class="line">            &#125;</span><br><span class="line">            // 组件挂载完毕</span><br><span class="line">            componentDidMount() &#123;</span><br><span class="line">                console.log(&#x27;组件挂载完毕，componentDidMount&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            // 组件将要卸载</span><br><span class="line">            componentWillUnmount() &#123;</span><br><span class="line">                console.log(&#x27;组件将要卸载，componentWillUnmount&#x27;);</span><br><span class="line">            &#125;</span><br><span class="line">            // 控制组件更新的阀门 ————————必有返回值【不去设置都是true】【布尔值】</span><br><span class="line">            shouldComponentUpdate() &#123;</span><br><span class="line">                console.log(&#x27;控制组件更新的阀门，shouldComponentUpdate&#x27;);</span><br><span class="line">                return true</span><br><span class="line">            &#125;</span><br><span class="line">       </span><br><span class="line">            // 组件更新完毕</span><br><span class="line">            componentDidUpdate(preProps,preState,snapshotValue) &#123;</span><br><span class="line">                console.log(&#x27;组件更新完毕，componentDidUpdate&#x27;,preProps,preState,snapshotValue);</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                console.log(&#x27;渲染，render&#x27;);</span><br><span class="line">                let &#123; num &#125; = this.state</span><br><span class="line">                return (</span><br><span class="line">                    &lt;div&gt;</span><br><span class="line">                        &lt;h2&gt;当前求和为&#123;num&#125;&lt;/h2&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.upData&#125;&gt;点我加1&lt;/button&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.unMount&#125;&gt;卸载组件&lt;/button&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.force&#125;&gt;不更改状态中的数据，强制更新&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;Life num=&#123;99&#125; /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>getSnapshotBeforeUpdate 应用场景：计算滚动位置</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .list &#123;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 150px;</span><br><span class="line">        background-color: royalblue;</span><br><span class="line">        overflow-y: auto;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .news &#123;</span><br><span class="line">        height: 30px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于jsx转js --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line">    &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">        //#region </span><br><span class="line">        // 生命周期回调函数 == 生命周期钩子函数</span><br><span class="line">        //#endregion</span><br><span class="line">        class NewsList extends React.Component &#123;</span><br><span class="line">            state = &#123;</span><br><span class="line">                newsArr: [],</span><br><span class="line">            &#125;</span><br><span class="line">            clear = () =&gt; &#123;</span><br><span class="line">                clearInterval(this.timer)</span><br><span class="line">            &#125;</span><br><span class="line">            componentDidMount() &#123;</span><br><span class="line">                this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                    let &#123; newsArr &#125; = this.state</span><br><span class="line">                    // 模拟一条新闻</span><br><span class="line">                    let news = &#x27;新闻&#x27; + (newsArr.length + 1)</span><br><span class="line">                    newsArr.unshift(news)</span><br><span class="line">                    this.setState(&#123;</span><br><span class="line">                        newsArr</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;, 1000);</span><br><span class="line">            &#125;</span><br><span class="line">            getSnapshotBeforeUpdate() &#123;</span><br><span class="line">                return this.list.scrollHeight</span><br><span class="line">            &#125;</span><br><span class="line">            componentDidUpdate(preProps, preState, snapshotValue) &#123;</span><br><span class="line">                // this.list.scrollHeight 每次比 snapshotValue 多 30px</span><br><span class="line">                this.list.scrollTop += this.list.scrollHeight - snapshotValue</span><br><span class="line">            &#125;</span><br><span class="line">            render() &#123;</span><br><span class="line">                return (</span><br><span class="line">                    &lt;div&gt;</span><br><span class="line">                        &lt;div className=&quot;list&quot; ref=&#123;c =&gt; this.list = c&#125;&gt;</span><br><span class="line">                            &#123;</span><br><span class="line">                                this.state.newsArr.map((item, index) =&gt; &#123;</span><br><span class="line">                                    return &lt;div key=&#123;index&#125; className=&#x27;news&#x27;&gt;&#123;item&#125;&lt;/div&gt;</span><br><span class="line">                                &#125;)</span><br><span class="line">                            &#125;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                        &lt;button onClick=&#123;this.clear&#125;&gt;清除定时器&lt;/button&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ReactDOM.render(&lt;NewsList /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h1 id="Diffing算法"><a href="#Diffing算法" class="headerlink" title="Diffing算法"></a>Diffing算法</h1><p><strong>验证Diffing算法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class Time extends React.Component &#123;</span><br><span class="line">         state = &#123;date : new Date()&#125;</span><br><span class="line">         componentDidMount()&#123;</span><br><span class="line">             setInterval(() =&gt; &#123;</span><br><span class="line">                 this.setState(&#123;</span><br><span class="line">                     date: new Date()</span><br><span class="line">                 &#125;)</span><br><span class="line">             &#125;, 1000);</span><br><span class="line">         &#125;</span><br><span class="line">         render() &#123;</span><br><span class="line">             // span标签不断变化，外层标签不会受影响，内层input标签也没有影响</span><br><span class="line">             return (</span><br><span class="line">                 &lt;div&gt;</span><br><span class="line">                     &lt;h1&gt;Hellow&lt;/h1&gt;</span><br><span class="line">                     &lt;input type=&quot;text&quot; /&gt;</span><br><span class="line">                     &lt;span&gt;</span><br><span class="line">                         现在是：&#123;this.state.date.toTimeString()&#125;</span><br><span class="line">                         &lt;input type=&quot;text&quot; /&gt;</span><br><span class="line">                     &lt;/span&gt;</span><br><span class="line">                 &lt;/div&gt;</span><br><span class="line">             )</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     ReactDOM.render(&lt;Time /&gt;, document.getElementById(&#x27;app&#x27;))</span><br></pre></td></tr></table></figure>
<p><strong>key的作用</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span><br><span class="line"> &lt;script src=&quot;./js/react.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于支持React操作DOM --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/react-dom.development.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于jsx转js --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/babel.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;!-- 用于对属性标签数据限制 --&gt;</span><br><span class="line"> &lt;script src=&quot;./js/prop-types.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"> &lt;script type=&quot;text/babel&quot;&gt;</span><br><span class="line">     //#region </span><br><span class="line">     // Diffinf算法，逐层对比，最小力度是标签</span><br><span class="line">     // 经典面试题：</span><br><span class="line">     // 1. react/vue 中的key有什么作用？（key的内部原理？）</span><br><span class="line">     // 2. 为什么遍历数组时，key最好不用index?</span><br><span class="line">     //#endregion</span><br><span class="line">     class Person extends React.Component &#123;</span><br><span class="line">         state = &#123;</span><br><span class="line">             persons: [</span><br><span class="line">                 &#123; id: 1, name: &#x27;李四&#x27;, age: 18 &#125;,</span><br><span class="line">                 &#123; id: 2, name: &#x27;张三&#x27;, age: 20 &#125;</span><br><span class="line">             ]</span><br><span class="line">         &#125;</span><br><span class="line">         addData = () =&gt; &#123;</span><br><span class="line">             // this.state.persons.push(&#123;</span><br><span class="line">             //     id: 3, name: &#x27;王五&#x27;, age: 19</span><br><span class="line">             // &#125;)</span><br><span class="line">             this.setState(&#123;persons:[&#123;id: 3, name: &#x27;王五&#x27;, age: 19&#125;,...this.state.persons]&#125;)</span><br><span class="line">         &#125;</span><br><span class="line">         render() &#123;</span><br><span class="line">             return (</span><br><span class="line">                 &lt;div&gt;</span><br><span class="line">                     &lt;h1&gt;展示人员信息&lt;/h1&gt;</span><br><span class="line">                     &lt;button onClick=&#123;this.addData&#125;&gt;添加数据&lt;/button&gt;</span><br><span class="line">                     &lt;ul&gt;</span><br><span class="line">                     &#123;</span><br><span class="line">                         this.state.persons.map((item,index) =&gt; &#123;</span><br><span class="line">                             return &lt;li key=&#123;index&#125;&gt;姓名：&#123;item.name&#125;,年龄：&#123;item.age&#125;&lt;input type=&quot;text&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                         &#125;)</span><br><span class="line">                     &#125;</span><br><span class="line">                     &lt;/ul&gt;</span><br><span class="line">                     &lt;hr/&gt;</span><br><span class="line">                     &lt;ul&gt;</span><br><span class="line">                     &#123;</span><br><span class="line">                         this.state.persons.map((item,index) =&gt; &#123;</span><br><span class="line">                             return &lt;li key=&#123;item.id&#125;&gt;姓名：&#123;item.name&#125;,年龄：&#123;item.age&#125;&lt;input type=&quot;text&quot; /&gt;&lt;/li&gt;</span><br><span class="line">                         &#125;)</span><br><span class="line">                     &#125;</span><br><span class="line">                     &lt;/ul&gt;</span><br><span class="line">                 &lt;/div&gt;</span><br><span class="line">             )</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     ReactDOM.render(&lt;Person /&gt;, document.getElementById(&#x27;app&#x27;))</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>

    </div>
    
    
    
    
         <div>
    
        <div style="text-align:left;font-size:18px;">
<p style="text-align:center;color: #00E5EE;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</p>
<p><b>我的传送门：</b><a target="_blank" rel="noopener" href="http://www.wuqisuda.cn">个人网站</a>、<a target="_blank" rel="noopener" href="https://github.com/wuqisuda">Github</a>、<a target="_blank" rel="noopener" href="https://gitee.com/he_zhongwei">Gitee</a></p>
        </div>
    
</div>
     

    <footer class="post-footer">
          <div class="reward-container">
  <div>you can reward me here. Thank you!</div>
  <button onclick="document.querySelector('.post-reward').classList.toggle('active');">
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechartpay.png" alt="越明 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.png" alt="越明 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>越明
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://wuqisuda.github.io/2021/12/30/02.React/" title="React面向组件编程【第二章】">https://wuqisuda.github.io/2021/12/30/02.React/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
        <a target="_blank" class="social-link" href="/images/wechart.png">
          <span class="icon">
            <i class="fab fa-weixin"></i>
          </span>

          <span class="label">WeChat</span>
        </a>
      </div>

      <div class="social-item">
        <a target="_blank" class="social-link" href="/atom.xml">
          <span class="icon">
            <i class="fa fa-rss"></i>
          </span>

          <span class="label">RSS</span>
        </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/React/" rel="tag"><i class="fa fa-tag"></i>React</a>
          </div>

        



          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/12/30/03.React/" rel="prev" title="React应用与ajax【第三章、第四章】">
                  <i class="fa fa-chevron-left"></i> React应用与ajax【第三章、第四章】
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/12/30/04.React/" rel="next" title="React 路由【第五章】">
                  React 路由【第五章】 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">越明</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">155k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:21</span>
  </span>
</div>
<div class="busuanzi-count">
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>





  <script class="next-config" data-name="nprogress" type="application/json">{&quot;enable&quot;:true,&quot;spinner&quot;:true}</script>
  <script src="/js/third-party/nprogress.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
